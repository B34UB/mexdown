\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{custom-fonts}[2016/08/22 Load custom font files, and use them
via the fontspec package]

\RequirePackage[quiet]{fontspec}    % load custom fonts
\RequirePackage{ifthen}             % Conditional commands in LaTeX documents

% header font
\newcommand{\printheadfontlocation}{\@headfontlocation}
\newcommand{\printheadfontname}{\@headfontname}

% body font
\newcommand{\printbodyfontlocation}{\@bodyfontlocation}
\newcommand{\printbodyfontname}{\@bodyfontname}

% load header fonts
\newcommand\loadfonthead[0] {
    \ifthenelse{\equal{\printheadfontlocation}{}}{ % is empty, don't set
        \def\headfont{}
    }{
        \ifthenelse{\equal{\printheadfontname}{}}{ % is empty, don't set
            \def\headfont{}
        }{
            % not empty
            \newfontfamily\headfont[\printheadfontlocation]{\printheadfontname}
        }
    }
}

% load body fonts
\newcommand\loadfontbody[0] {
    \ifthenelse{\equal{\printbodyfontlocation}{}}{ % is empty, don't set
        \def\bodyfont{}
    }{
        \ifthenelse{\equal{\printbodyfontname}{}}{ % is empty, don't set
            \def\bodyfont{}
        }{
            % not empty
            \newfontfamily\bodyfont[\printbodyfontlocation]{\printbodyfontname}
            \setmainfont[\printbodyfontlocation]{\printbodyfontname}
        }
    }
}

% define load macros
\def\headfontlocation#1{\def\@headfontlocation{#1}\loadfonthead}
\def\headfontname#1{\def\@headfontname{#1}\loadfonthead}
\def\bodyfontlocation#1{\def\@bodyfontlocation{#1}\loadfontbody}
\def\bodyfontname#1{\def\@bodyfontname{#1}\loadfontbody}

% set default loaded values
\headfontlocation{}
\headfontname{}
\bodyfontlocation{}
\bodyfontname{}

% nice command to set the fonts
\newcommand\setbodyfont[2] { %#1 is fontlocation, #2 is fontname
    \bodyfontlocation{#1}
    \bodyfontname{#2}
}

\newcommand\setheadfont[2] { %#1 is fontlocation, #2 is fontname
    \headfontlocation{#1}
    \headfontname{#2}
}

\endinput
